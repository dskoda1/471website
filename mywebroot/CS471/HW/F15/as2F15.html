<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
  
  <meta content="text/html; charset=UTF-8" http-equiv="content-type">
  <title>Assignment 2 ** Syntax, Grammar and Parsing **</title>

  
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

</head><body>
<div style="text-align: center;">
<h3>Programming Languages<br>
Assignment 2<br>
</h3>
</div>

<span style="font-weight: bold;">Assignment due Tuesday @ end of day.<br>
Read Scott: </span><span style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: bold; letter-spacing: normal; line-height: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; display: inline ! important; float: none;"><br>
</span>
<div style="margin-left: 40px;"><span style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: bold; letter-spacing: normal; line-height: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; display: inline ! important; float: none;">Chapter
2 :: pgs 41-54,65-67,70-75,99</span><span style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: bold; letter-spacing: normal; line-height: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; display: inline ! important; float: none;"><br>
Chapter 13 ::pgs</span> 649-655, 661, 672-674, 674-76, 696-704<br>
<span style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; display: inline ! important; float: none;">Chapter
2:</span> <span style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; display: inline ! important; float: none;">cyu:1-9,14,19,20,21,22,25,27,35,36</span></div>

<span style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: bold; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; orphans: 2; text-align: start; widows: 2; float: none; display: inline ! important; background-color: rgb(255, 253, 253);"></span><br>

Problems 1 - 5 are the lab problems.<br>

<ol>

  <li><a href="lab2/Fig4_12R.c">Fig4_12R.c</a>
is a program
that will
evaluate expressions.&nbsp; The Fig4_12R binary created by the Makefile
will read a string from standard input (the terminal) to interpret.
&nbsp;Look at the code to get an idea of what it is doing. Using the
make utility and this <span style="text-decoration: underline;"> </span><a href="lab2/Makefile">Makefile</a>'s
target XQTR,
compile and execute this program. e.g.<br>
  </li>
  <dl style="font-family: monospace; font-weight: bold;">
    <dd>$ make XQTR<br>
gcc -std=c99 -Wall -o Fig4_12 Fig4_12.c<br>
./Fig4_12&nbsp;&nbsp;&nbsp; <br>
2 + 4 * 3 + 1<br>
The result is: 15<br>
      <br>
    </dd>
  </dl>
  <li>The comment above each function in <a href="lab2/Fig4_12R.c">Fig4_12R.c</a>
includes the rules in BNF.&nbsp; <br>
  </li>
  <ol style="list-style-type: lower-alpha;">
    <li>On a piece
of paper write (or in the text editor) the grammar rules down (You may
consider numbers as terminal symbols for this part.) Notice that
terminal symbols (operators) are 'match'ed and then used to calculate
the result, terminal symbols (digits)&nbsp; are used to build the
numbers and non-terminal symbols are function calls.&nbsp;&nbsp; <br>
    </li>
    <li>From the grammar can you determine the precedence of the
operators, + and * ?&nbsp; Highest means tightest bound.&nbsp; <br>
    </li>
    <li>Parenthesize the following expressions according to the rules
of the grammar: <br>
    </li>
    <ol>
      <li>5&nbsp; + 3 + 2 <br>
      </li>
      <li>5 + 2 * 10</li>
    </ol>
    <li>Using
the grammar rules write the left derivation for the expressions in 2.c<br>
      <br>
    </li>
  </ol>
  <li>Add minus, "-", operator to the grammar.&nbsp; <br>
  </li>
  <ol style="list-style-type: lower-alpha;">
    <li>Minus should have
a lower precedence than "*" and higher precedence than "+".&nbsp;&nbsp;
It should have the same associativity as "*" and "+"<br>
    </li>
    <li>Parenthesize the following expressions according to the rules
of the grammar: </li>
    <ol style="font-family: monospace;">
      <li>10 - 20 - 30</li>
      <li>10 - 20 * 2 - 3</li>
      <li><span style="font-weight: bold;">1 - 10 + 50 - 5</span></li>
    </ol>
    <li>What is the associativity of "+", "*",&nbsp; and "-" ?<br>
    </li>
  </ol>
  <dl>
    <dd><br>
      <br>
    </dd>
  </dl>
  <li>Modify <a href="lab2/Fig4_12R.c">Fig4_12R.c</a>
add the code to include "-" operator.&nbsp; (Modify your
makefile.) Submit only the changes to the code. Remember the
general idea for converting a grammar to a code is<br>
  </li>
  <ul>
    <li>&nbsp;non-terminals are
function calls <br>
    </li>
    <li>"match" terminals<br style="font-family: monospace;">
&nbsp; <span style="font-family: monospace; font-weight: bold;">eg.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family: monospace;">gcc -o Fig4_12A -std=c99
Fig4_12a.c</span><br>
      <span style="font-family: monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;
./Fig4_12A<br>
&nbsp;&nbsp;&nbsp;&nbsp; 1 - 10 + 2 - 5<br>
&nbsp;&nbsp;&nbsp;&nbsp; The result is: -12<br>
      </span><span style="font-family: monospace; font-weight: bold;"><span style="font-style: italic;"><br>
      </span></span></li>
  </ul>
  <li>(0pts)<a href="http://bingweb.binghamton.edu/%7Ehead/CS471/HW/lab2/Fig4_12.c">Fig4_12.c</a>
is another program that evaluates expressions.&nbsp; Using the make
utility and this <span style="text-decoration: underline;"> </span><a href="http://bingweb.binghamton.edu/%7Ehead/CS471/HW/lab2/Makefile">Makefile</a>'s
target XQT,
compile and execute this program. e.g.</li>
  <dl>
    <dd><span style="font-family: monospace;">$ make XQT<br>
./Fig4_12&nbsp;&nbsp;&nbsp; <br>
2 + 4 * 3 + 1<br>
The result is: 15</span></dd>
    <dd><br>
    </dd>
  </dl>
  <li>The comment above each function in <a href="http://bingweb.binghamton.edu/%7Ehead/CS471/HW/lab2/Fig4_12.c">Fig4_12.c</a>
includes the grammar rules in BNF followed by the same rule using EBNF <br>
  </li>
  <ol style="list-style-type: lower-alpha;">
    <li>On a piece of paper write BNF grammar rules down (You may
consider numbers as terminal symbols for this part.) Notice that
terminal symbols (operators) are 'match'ed and then used to calculate
the result, terminal symbols (digits)&nbsp; are used to build the
numbers and non-terminal symbols are function calls.&nbsp;&nbsp; <br>
    </li>
    <li>From the grammar can you determine the precedence of the
operators, + and * ?&nbsp; Highest -&gt; tightest bound.&nbsp; <br>
    </li>
    <li>Parenthesize the following expressions according to the rules
of the grammar: <br>
    </li>
    <ol>
      <li>5 + 2 * 10</li>
      <li>5 + 2 + 10</li>
    </ol>
    <li>Using the BNF rules, write the left derivation for the
expressions
in part c.<br>
      <br>
    </li>
  </ol>
  <li>Add minus, "-", operator to the grammar.&nbsp; <br>
  </li>
  <ol style="list-style-type: lower-alpha;">
    <li>Minus should have
a lower precedence than "*" and higher precedence than "+".&nbsp;&nbsp;
It should have the same associativity as "*" and "+"<br>
    </li>
    <li>Parenthesize the following expressions according to the rules
of the grammar: </li>
    <ol style="font-family: monospace;">
      <li>10 - 20 - 30</li>
      <li>10 - 20 * 2 - 3</li>
      <li><span style="font-weight: bold;">1 - 10 + 50 - 5</span></li>
    </ol>
    <li>What is the associativity of "+", "*",&nbsp; and "-" ?<br>
      <br>
    </li>
  </ol>
  <li>Modify <a href="http://bingweb.binghamton.edu/%7Ehead/CS471/HW/lab2/Fig4_12.c">Fig4_12.c</a>
add the code to include "-" operator.&nbsp; (Modify your
makefile. Submit only the changes to the code.)&nbsp; Remember the
general idea for converting a grammar to code is<br>
  </li>
  <ul>
    <ul>
      <li>&nbsp;non-terminals are
function calls <br>
      </li>
    </ul>
    <ul>
      <li>"match" terminals</li>
    </ul>
  </ul>
However for this grammar the above strategy will cause
problems.&nbsp; Which type of recursive grammar rule causes the problem
and why?&nbsp; Examining the code you see that EBNF suggests a
solution, replace recursive calls with <span style="font-style: italic;">while loops</span>.&nbsp; Below is an
example output.<br>
  <br>
  <dl>
    <div style="margin-left: 40px;"><span style="font-family: monospace;"></span><span style="font-family: monospace; font-weight: bold;">gcc -o Fig4_12B
-std=c99
Fig4_12B.c</span><br style="font-family: monospace; font-weight: bold;">
    <span style="font-family: monospace; font-weight: bold;">./Fig4_12B</span><br style="font-family: monospace; font-weight: bold;">
    <span style="font-family: monospace; font-weight: bold;">3 - 2 - 20
+ 10</span><br style="font-family: monospace; font-weight: bold;">
    <span style="font-family: monospace; font-weight: bold;">The result
is: -9</span><br style="font-weight: bold;">
    </div>
&nbsp;
  </dl>
  <li>&nbsp;
Download this<span class="Apple-converted-space">&nbsp;</span><a href="lab2/RubyRE.rb">Ruby code</a>&nbsp; into the directory in which
you downloaded<span class="Apple-converted-space">&nbsp;</span><a href="../../../%7Ehead/CS471/HW/lab2/Fig4_12.c">Fig4_12.c</a>, make
the Ruby code executable, and run it. Notice that the Ruby code
produces a new file called "Names.txt". Browse through the Ruby code to
see what is going on. You might find these<a href="http://bingweb.binghamton.edu/%7Ehead/CS471/NOTES/GRAMMAR/RubyD.html">brief
notes</a><span class="Apple-converted-space">&nbsp;</span>helpful.
Other helpful resources are "<a href="http://www.wellho.net/solutions/php-pattern-matching-a-primer-on-regular-expressions.html">Pattern
Matching - a primer on regular Expressions</a>" and "<a href="http://media.pragprog.com/titles/ruby3/ruby3_extract_regular_expressions.pdf">Regular
Expressions from PickAxe</a>". Now, modify the Ruby code to extract all
the arguments to the "match" function invocations in Fig4_12.c. These
arguments are the text inside the parenthesis of a string that starts
with "match", followed immediately by an open parenthesis ('('), and
terminated by a close parenthesis (')'). Hint - you will have to escape
parenthesis in your regular expression to have them treated as literal
matching characters instead of grouping indicators. Note - the results
may include the argument definition in the prototype or definition of
the match function.<span class="Apple-converted-space">&nbsp;</span><br>
    <br>
When you turn in your homework, include the resulting file that shows
both
your modified regular expression, and the arguments to "match" that you
found.<br>
    <br>
    <span class="Apple-converted-space"></span></li>
  <li>What are <span style="font-style: italic;">pragmas</span>?
Why are they processed by the scanner? &nbsp;Briefly, if you are a
language designer what are the trade off of allowing pragmas? <br>
    <br>
  </li>
  <li>Exercise 2.27 page 108.<br>
&nbsp;&nbsp; <br>
  </li>
  <li>Here is a helpful link for testing your RE <a href="http://rubular.com/">Rubular:
a Ruby regular expression editor</a> for the problems below.<br>
  </li>
  <ol>
    <li>&nbsp;Write regular expressions for the following. Check your
regular expressions.&nbsp; <br>
    </li>
    <ol style="list-style-type: lower-alpha;">
      <li>C identifiers. C identifiers must start with an alphabetic
character and may contain any alphanumeric character including the
underscore.</li>
      
      <li>C line and block comments. The regular expression should
match both.</li>
      <li>Nested parentheses up to two levels. Patterns that should
match include "()", "(())", "()()", "(()()())". Patterns that should be
rejected are "(", "(()", "((()))".</li>
      <li>C string literals. A string literal in C begin and end with a double
quote and may contain any character except a newline. Take care to
handle escape characters.
        <br>
        <br>
      </li>

    </ol>
    <li>Download and modify the <a href="http://bingweb.binghamton.edu/%7Ehead/CS471/HW/lab2/match.rb">ruby
template file</a> to match
and print all C identifiers. Your script should not match identifiers
contained inside comments and string literals. You may accept standard
C keywords. (Hint: Can you combine some of the above regular
expressions and only capture identifiers? See capture groups
http://www.regular-expressions.info/refcapture.html). <br>
    </li>
  </ol>
</ol>

<span class="Apple-converted-space"></span> <br>

<ol>

</ol>

<br>

<br>

</body></html>