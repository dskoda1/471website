<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html><head>











  
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">

  
  <meta name="Author" content="Eileen Head">

  
  <meta name="GENERATOR" content="Mozilla/4.73 [en] (Win98; U) [Netscape]"><title>Lab 7</title></head><body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 249);" alink="#3333ff" link="#000099" vlink="#000099">
<center>
<h3> Lab 8 -- Haskell 2<span style="font-style: italic;"></span></h3>
<div style="text-align: left;">
<h3>Additional problem<span style="text-decoration: underline;"> </span><a href="LabH2F14.lhs">LabH2F14.lhs</a></h3>

</div></center><ul>

</ul>

<ol>

</ol>

<br>1) Our example is the exponentiation function, which raises a
number
to a positive integer power. Here is a very simple implementation: <br>

<dl>

</dl>

<ol>

  <span style="font-family: monospace;">&gt; power
:: Integer
-&gt; Integer -&gt; Integer&nbsp;&nbsp;</span>&nbsp;&nbsp; <br>
  <span style="font-family: monospace;">&gt; power a
0 = 1&nbsp;</span>&nbsp;<span style="font-family: monospace;">&nbsp;&nbsp;
  <br>
  </span><span style="font-family: monospace;">&gt;
power a b = a *
power a (b-1)<br>
  <br>
</span>Before you begin this problem type the following at the prompt:<span style="font-family: monospace;"><br>
&nbsp; &gt; :set +s<br>
  </span>to turn on the "statistics".<span style="font-family: monospace;"><br>
  </span>
</ol>

<ol style="list-style-type: lower-alpha; margin-left: 40px;">

  
  <li>[5pts] Show the steps in the evaluation of the expression<span style="font-family: monospace; font-weight: bold;"> power 2 5</span>,&nbsp; making sure not to
reduce any subexpression prematurely. Example of steps in evaluation of <a href="http://bingweb.binghamton.edu/%7Ehead/CS471/NOTES/HASKELL/2HrF10.html#iterate">factR n = if n == 0 then 1 else  n * factR (n-1)</a> in notes.<br>
How do the time and maximum space
required by the
evaluation of <span style="font-family: monospace;">power
n k</span>
depend on <span style="font-style: italic;">n </span>and <span style="font-style: italic;">k</span>?
&nbsp;What is the time complexity of <span style="font-style: italic;">power?<br>
    </span><br>
  </li>

  
  <li>Experiment with Hugs/GHCi.&nbsp; Run <br>
&nbsp;&nbsp;&nbsp; &gt;&nbsp; <span style="font-family: monospace; font-weight: bold;">power 513 9999</span><br>
Record the statistics (time and space)<br>
<br>
  </li>

  <li>[5pts] Because of lazy evaluation, the definition of <span style="font-family: monospace; font-weight: bold;"><span style="font-style: italic;">power</span></span> accumulates of
pending
multiplications. It is inherent in the way power is
defined&#8212;
each multiplication has to wait until its right argument has been
evaluated.<br>
  </li>
One way to eliminate the multiplication delay is to convert
the function&#8217;s definition to a tail-recursive implementation: <br>
  <br>
  <span style="font-family: monospace;">&gt; powerT
:: Integer -&gt;
Integer -&gt; Integer</span><br style="font-family: monospace;">
  <span style="font-family: monospace;">&gt; powerT
a b = trp b 1</span><br style="font-family: monospace;">
  <span style="font-family: monospace;">&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
where</span><span style="font-family: monospace;"></span><br style="font-family: monospace;">
  <span style="font-family: monospace;">&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
trp n p = if (n==0) then p else trp (n-1) (a*p)<br>
  </span><br style="font-family: monospace;">
Show the steps in the evaluation of the expression <span style="font-family: monospace; font-weight: bold;">powerT 2 5</span>,
making sure not to
reduce any subexpression prematurely.&nbsp;&nbsp; <br>
  <br>
  
  <li>Repeat the experiment for part (b)&nbsp; for <span style="font-family: monospace;">powerT. <br>
    <span style="font-family: monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; </span><span style="font-weight: bold;">&gt;&nbsp; powerT 513 9999</span></span><br>
Record the statistics (time and space) and compare the values to part (b).<br>
<br>
    <br>
  </li>
  <li><span style="font-family: monospace;"></span>[5pts]Convert the
powerT to an iterative form (while loop) using the <a href="http://bingweb.binghamton.edu/%7Ehead/CS471/NOTES/HASKELL/2HrF10.html#iterativeform">conversion</a>
technique discussed in class.<br>
    <br>
  </li>
</ol>

2) In Exercise 2 we improved power&#8217;s space
performance, but
all three versions take time linear in the exponent argument.<br>

<br>
<ol style="list-style-type: lower-alpha;">
  <li>[5pt]Here is an algorithm which improves both time and
space
performance:</li>
  <dd style="margin-left: 80px;"><span style="font-family: monospace;"><br>
&nbsp; &nbsp; &gt;
turboPower a 0 = 1 <br>
&nbsp; &nbsp; &gt; turboPower a b <br>
&nbsp; &nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp;
| even b = turboPower
(a*a) (b `div` 2) <br>
&nbsp; &nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp;
| otherwise = a *
turboPower a (b-1)</span></dd>
  <dd><span style="font-family: monospace;"></span><br>
  </dd>
Instead of merely decrementing its first argument, this
algorithm
halves it whenever it is even, thereby reaching termination much more
quickly. What is the complexity of this algorithm? <span style="font-family: monospace;"><br>
 </span><br>
  <span style="font-family: monospace;"></span><span style="font-family: monospace;"> </span><li>Experiment with Hugs/GHCi.&nbsp; Turn on the :set +s to calculate the time and space used.&nbsp;&nbsp; Run <br>

&nbsp;&nbsp;&nbsp; &gt;&nbsp; <span style="font-family: monospace; font-weight: bold;">turboPower 513 9999</span><br>

Record the statistics (time and space).&nbsp; Compare with 2(b) and 2 (d).<br>
    <br>
</li>
  <li>[10pts] Convert <span style="font-style: italic; font-family: monospace;">turboPower</span><span style="font-style: italic;">&nbsp; </span>to a tail recursive version -- call you new version&nbsp;<span style="font-family: monospace; font-weight: bold;">turboPowerT.</span><span style="font-style: italic;"> </span></li>

  <br>
</ol><br>
</body></html>