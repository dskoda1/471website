<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>



  
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>lab 4: Prolog 2</title><meta http-equiv="content-type" content="text/html; charset=utf-8"></head><body>
<h3 style="text-align: center;">Programming Languages<br>
Lab activity 4: Prolog</h3>

Turn in one file prolog file (lab4.pl). Turn in only questions/parts
with points.<br>

<br>

<ol>

  <li>(10)Define <span style="font-style: italic;">homoiconic.</span>
Is Prolog <span style="font-style: italic;">homoiconic</span>? What
does it mean to say a language is <span style="font-style: italic;">fully
reflective</span>? Is Prolog <span style="font-style: italic;">fully
reflective?&nbsp; <br>
    <br>
    </span></li>
  <li>(0)
Try to predict the results of the following queries (you do not need to
include answer in the file you submit.&nbsp; You can use help to remind
you what these predicates do. eg. ?- help(functor).<br>
    <br>
  </li>
  <dl style="font-family: monospace; font-weight: bold;">
    <dd>?- functor(foo(a,b,c),F,N).<br>
?- functor(foo(a,b,c),F,N), write('\n'), write(F),write('\nlast write
\n.').<br>
?- functor(T,foo,3).<br>
?- arg(3, foo(a,b,c),A).<br>
?- T =.. [foo,x, y, z].<br>
?- foo(who, what) =.. T.<br>
?- foo(who, what) =.. [A, B,C].</dd><dd>?- T =.. [ack, 10, 0, X], assert(T).<br>
?- clause(ack(M,0,B),C).<br>
?- clause(ack(3,0,B),C)<br>
?- write('Hello').<br>
?- write(Hello).<br>
      <br>
    </dd>

  </dl>
  <li>Type
manpce at the prompt.&nbsp; You should see a pop-up window (the icon is
books). In the "Browsers" pull down menu select "Prolog&nbsp;
manual".&nbsp; Another window will open which will allow us to browse
the Prolog manual.&nbsp; Click on the "+" next to "Built-in predicates"
-- this will open sub-menu.&nbsp; Clicking on the words "Built-in
predicates" opens the manual page.&nbsp;On the
bottom of this window you will see the label "On:" , type "number" and
enter in the next box.&nbsp; You should see the specification of <span style="font-style: italic;">number </span>in the manual page frame on
the right.&nbsp; Repeat this for <span style="font-style: italic;">atom.<br>
    <br>
    </span></li>
  <li>(10)Define a predicate, listOfTerms(ListOfArgs,Name,
ListOfResults),&nbsp; where each term in the ListOfResults is a term
with one argument from the ListOfArgs and the functor name is the
Name. <br>
  </li>
  <dl style="font-family: monospace; font-weight: bold;">
    <dd><br>
?- listOfTerms([[1,2],[a,s,v],[100]],foo,T). <br>
T = [foo(1, 2), foo(a, s, v), foo(100)].<br>
?- listOfTerms([[1,2],[100,99],[5,11]],+,T).<br>
T = [1+2, 100+99, 5+11].<br>
?- listOfTerms(Lst,F,[1+2, 100+99, 5+11]).<br>
Lst = [[1, 2], [100, 99], [5, 11]],<br>
F = + .<br>
      <br>
    </dd>
  </dl>
  
  <li>(2pts) a) What is the formal definition of a BST, binary search
tree?&nbsp; <br>(8pts)
b) The structure for a BST in Prolog is 'empty' for the leaf and
tree(V,Lt,Rt).&nbsp; Write a prolog predicate, isBST(Tree) which
succeeds if Tree is a BST.&nbsp; This can done by overloading isBST/1
with isBST/3. isBST/3 can be written with 4 clauses.&nbsp; You should
use the following rule to start. (You will need to fill in the ???.)<br>
    <br>
&nbsp;&nbsp;<span style="font-weight: bold; font-family: monospace;"> </span><span style="font-family: monospace; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; font-weight: bold;">isBST(T):- isBST(T,Min,Max).</span><br>
&nbsp;&nbsp;&nbsp; <span style="font-family: monospace; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; font-weight: bold;">isBST(???, ???, ???) :- ???</span><br>
&nbsp;&nbsp;&nbsp; etc...<br>
<br>
Here are 3 examples of BST structures:<br>
<br>&nbsp;&nbsp;
    <span style="font-family: monospace; font-weight: bold;">tree2(node(33,node(22,empty,empty),empty)).</span><br style="font-family: monospace; font-weight: bold;">&nbsp;&nbsp;
    <span style="font-family: monospace; font-weight: bold;">tree4(node(10,
node(5, node(1,empty,empty), node(8,empty,empty)),
node(13,empty,empty))).</span><br style="font-family: monospace; font-weight: bold;">&nbsp;&nbsp;
    <span style="font-family: monospace; font-weight: bold;">tree5(node(15,L,R)):-tree4(L),tree2(R).</span><br>
    <br>
Here is an example of a non-BST structure:<br>
<br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;">&nbsp; notBST2(node(6,node(4,empty,node(7,empty,empty)),empty)).
    </span><br>
    <br>
  </li>

  <li>(0pts) Copy the contents of<a href="http://bingweb.binghamton.edu/%7Ehead/CS471/CODE/PL/ghezzi">
ghezzi</a>
to a file name test.pl.&nbsp; Open this file in swipl and in
emacs.&nbsp; Try to predict the steps need to execute the following
query.</li>
  <dl>
    <dd style="font-family: monospace;">?- clos(a,g).</dd>
    <dt>At the prompt (in the swipl window) type trace, clos(a,g). eg.</dt>
    <dd><span style="font-family: monospace;">?- trace, clos(a,g),
notrace, nodebug.</span><br>
    </dd>
    <dt>If after each response you type "enter" you will see the exact
execution of clos(a,g). <br>
    </dt>
    <dt>Redo using the following query: <span style="font-family: monospace;">trace, clos(a,C), notrace, nodebug</span>.</dt>
    <dt><br>
    </dt>
  </dl>
  <li>(0pts) We will now use graphical debugger for our prolog
environment.&nbsp;
There are many ways to get to it -- here is one way.&nbsp;&nbsp; </li>
  <dl>
    <dd><span style="font-family: monospace; font-weight: bold;"><br>
      </span><span style="font-family: monospace; font-weight: bold;"></span></dd>
  </dl>
  <ol style="list-style-type: lower-alpha;">
    <li>Redo question 5 -- except instead use gtrace instead of trace.<br>
      <br>
    </li>
    <dl style="font-family: monospace;">
      <dd>?- gtrace, clos(a,g), notrace, nodebug.<br>
      </dd>
    </dl>
    <dl>
      <dd><span style="font-family: monospace;">?- gtrace, clos(A,f),
notrace, nodebug.</span><br>
        <br>
      </dd>
      <dt>You should see
another window, which is the graphical debugger.&nbsp; If you have
questions about the different frames in the debugger window please feel
free to ask me during lab.<br>
        <br>
      </dt>
    </dl>
  </ol>
  <li>(10pts) Lets explore <span style="font-style: italic;">select</span>
built-in predicate.&nbsp; <br>
    <br>
  </li>
  <ol style="list-style-type: lower-alpha;">
    <li>(0pts) Type the following query:</li>
    <dl>
      <dd><span style="font-family: monospace;">?- help(select).<br>
?- select(c, [a,b,c,d,e], R).<br>
        </span><span style="font-family: monospace;">?- select(c,
[a,b,X,d,e], R).</span><br>
        <span style="font-family: monospace;">?- select(c, R, </span><span style="font-family: monospace;">[a,b,d,e]</span><span style="font-family: monospace;">).</span> % use the ";" instead of
return<br>
        <br>
      </dd>
    </dl>
    <li>(10pts) Define <span style="font-style: italic;">insert</span>(<span style="font-style: italic;"> ?Elem, ?Lst, ?LstWithElem</span>) using
only the builtin predicate <span style="font-style: italic;">select.&nbsp;
insert </span>succeeds <span style="font-style: italic;"><span style="font-style: italic;"></span></span><span style="font-style: italic;"></span>if the only difference
between&nbsp; <span style="font-style: italic;">Lst</span> and <span style="font-style: italic;">LstWithElem <span style="font-style: italic;"><span style="font-style: italic;"></span></span></span>is<span style="font-style: italic;"><span style="font-style: italic;"><span style="font-style: italic;"></span></span> LstWithElem </span>includes
      <span style="font-style: italic;">Elem.&nbsp; i.e.</span></li>
    <dl>
      <dd><span style="font-family: monospace;">?-
insert(c,[a,b,d,e],[a, c, b, d, e]).</span><br style="font-family: monospace;">
        <span style="font-family: monospace;">true .</span><br style="font-family: monospace;">
        <br style="font-family: monospace;">
        <span style="font-family: monospace;">?- insert(c,[a, b, d,
e],[a, b, c, d, e]).</span><br style="font-family: monospace;">
        <span style="font-family: monospace;">true .</span><span style="font-style: italic;"><br>
        </span></dd>
    </dl>
  </ol>
  <dl>
    <dd><br>
    </dd>
  </dl>
  <li>[10pts] Given a list of predicates, applylist(L) succeeds only if<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; each of the predicates in the list
succeeds. Note: the scope<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; of variables names is the entire list.
You can apply each predicate<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at the prompt to see how they
work.&nbsp; Make up your own. (2 lines)<br>
    <br>
&nbsp;&nbsp; i.e.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: monospace;">&nbsp; ?-
applylist([=(A,5),is(B,+(4,5)),C is max(5,2),A=C]).</span><br style="font-family: monospace;">
    <span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
A = 5</span><br style="font-family: monospace;">
    <span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
B = 9</span><br style="font-family: monospace;">
    <span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
C = 5</span><br style="font-family: monospace;">
    <span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
yes</span><br style="font-family: monospace;">
    <span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
?- applylist([=(A,5),is(B,+(4,5)),C is max(9,2),A=C]).</span><br style="font-family: monospace;">
    <span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
no</span><br style="font-family: monospace;">
    <span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </span><br>
&nbsp; Can be done with 2 clauses.<br>
&nbsp; <br>
    <br>
    <br>
  </li>
  <li>[10 pts] (10pts)Explain the result of the follow query:<br>
&nbsp;&nbsp;&nbsp; <span style="font-family: monospace; font-weight: bold;">..?-&nbsp; A=B,
not(not(A=apple)), B=what.<br>
    </span><br>
    <br>
    <br>
  </li>
  <li>[10 pts] Read 3.1.3 Example 3: Successor from "Learn Prolog Now!"<br>
http://cs.union.edu/~striegnk/learn-prolog-now/html/node27.html#subsec.l3.ex3<br>
    <br>
Last year a student submitted the following solution for this problem:<br>
  </li>
  <dl>
    <dd> <span style="font-family: monospace;"><br>
convertToDecimal(A,0).&nbsp; </span><br style="font-family: monospace;">
      <span style="font-family: monospace;">convertToDecimal(succ(S),
Y) :- numeral(S), Y1 is Y-1, convertToDecimal(S, Y1). <br>
numeral(0).&nbsp;<br>
numeral(succ(X)) :- numeral(X).</span><br style="font-family: monospace;">
      <br>
    </dd>
  </dl>
  <ol style="list-style-type: lower-alpha;">
Explain why the following query gives the result it does:<br>
    <span style="font-family: monospace; font-weight: bold;">?-
convertToDecimal(succ(succ(0)),N). </span><br>
    <br>
  </ol>
</ol>

<ol>

  <dl>
    <dd><br>
      <br>
    </dd>
  </dl>
</ol>

<br>

<br>

</body></html>