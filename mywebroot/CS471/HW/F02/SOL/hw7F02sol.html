<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.79 [en] (Windows NT 5.0; U) [Netscape]">
   <meta http-equiv="Pragma" content="no-cache">
   <meta http-equiv="Cache-Control" content="no-cache">
   <meta name="Software Author" content="Blackboard Inc">
   <meta name="Software Copyright" content="© 1997-2002 Blackboard Inc.">
   <meta http-equiv="Refresh" content="1; URL=/browser.html">
   <title>CS471 Homework Solution #7Blackboard 5</title>
<noscript>
</noscript>
</head>
<body bgcolor="#FFFFFF" link="#003366" vlink="#003366" alink="#669999" onLoad="" onUnload="" MARGINWIDTH="5" MARGINHEIGHT="0" LEFTMARGIN="5" TOPMARGIN="0">
&nbsp;
<table BORDER=0 CELLSPACING=0 CELLPADDING=6 WIDTH="911" HEIGHT="2584" >
<tr>
<td COLSPAN="2" WIDTH="899" HEIGHT="1">
<center><font size=+2>Fall 2002</font>
<br><font size=+2>CS 471 Programming Language</font>
<br><font size=+2>Homework #7 Solution</font></center>
</td>
</tr>

<tr>
<td ALIGN=RIGHT VALIGN=TOP WIDTH="29" HEIGHT="2645" BGCOLOR="#FFFFFF">&nbsp;</td>

<td ALIGN=LEFT WIDTH="858" HEIGHT="2645" BGCOLOR="#FFFFFF">
<ol>
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>Page 158 exercise
3.1</font></font></li>

<br><b><i><font face="Arial, Helvetica, sans-serif"><font size=-1>(10 pts)</font></font></i></b>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>Indicate the
binding time for each of the following decisions in your favorite programming
language and implemention. Explain any answers you think are open to interpretation.&nbsp;</font></font>
<ul>
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>The number of built-in
functions (abs, cosine, etc)</font></font></li>
</ul>

<dl>
<dd>
<font face="Arial, Helvetica, sans-serif"><font size=-1><b>language design
time </b>though it may be increased by certain implementation&nbsp;</font></font></dd>

<ol><b><font face="Arial, Helvetica, sans-serif"><font size=-1>&nbsp;&nbsp;
-- Pascal, Perl</font></font></b></ol>
</dl>

<ol><b><font face="Arial, Helvetica, sans-serif"><font size=-1>Language
design time - Java</font></font></b></ol>

<ul>
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>The variable declarations
that corresponds to a particular variable reference (use)</font></font></li>

<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>compile
time -- Pascal</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>runtime
- original lisp, (dynamic scoping)</font></font></b></ul>

<ul>
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>The maximum length
allowed for a constant (literal) character string</font></font></li>

<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>language
implementation time -- Pascal, Perl</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>language
design time -- Java</font></font></b></ul>

<ul>
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>The referencing
environment for a subroutine that is passed as a parameter</font></font></li>

<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>bound when
the subroutine is passed (or, equivalently, when the declaration of the
subroutine that is passed is elaborated) -- Pascal</font></font></b></ul>

<ul>
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>The address of
a particular library routine</font></font></li>

<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>bound by
the linker in most systems, though it may not be known until load time
or even run time in system that perform dynamic linking (section 9.7).
-- Pascal</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>load time
-- Perl, Java</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>Note here,
we are speaking of virtual addresses. Physical addresses are invisible
to the running program.</font></font></b>
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>The total amount
of space occupied by program code and data</font></font></li>

<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>runtime
-- Pascal, Perl, Java</font></font></b></ul>

<ol>&nbsp;</ol>

<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>Page 158 exercise
3.6</font></font></li>

<br><b><i><font face="Arial, Helvetica, sans-serif"><font size=-1>(10 pts)</font></font></i></b>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>Give three
concrete examples drawn from programming languages with which you are familiar
in which a variable is live but not in scope.&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>Ans:&nbsp;</font></font>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>(1) In Pascal,
if procedure P declares a local variable named x, then a global variable
also named x will be live but not in scope when executing P.</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>(2) In Modula-2,
a global variable declared in a module is live but not in scope when execution
is not inside the module.</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>(3) In C,
a static variable declared inside a function is live but not in scope when
execution is not inside the function.</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>(4) in C++,
non-public member variables of an object of class C are live but not in
scope when execution is not inside a member function of C.</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>(5) in Prolog,</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
fun(A).</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
fun(B):-B1=a, fun(A). B1 is live, but not in scope at fun();</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>(6) In Java,
JFrame with a button on it and you hide the JFrame but you do not call
dispose(). You cannot push that button because it is out of the scope.
However, it is still live.</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>(7) using
keyword namespace, you can have a live variable, but not in scope inside
namespace declaration.</font></font></b>
<br>&nbsp;
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>Page 419 review
question 7.12 <b><i>(10 pts)</i></b></font></font></li>

<br><b><i><font face="Arial, Helvetica, sans-serif"><font size=-1><a href="http://searchstorage.techtarget.com/sDefinition/0,,sid5_gci283993,00.html">http://searchstorage.techtarget.com/sDefinition/0,,sid5_gci283993,00.html</a></font></font></i></b>
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>&nbsp;Read exercise
7.5 page 421.&nbsp;&nbsp; <b><i>(10 pts)</i></b></font></font></li>

<ol type="A">Integer Moduls vs. Remainder: <a href="http://mathforum.org/library/drmath/view/54377.html">http://mathforum.org/library/drmath/view/54377.html</a>
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>(ADA) Give values
of A and B for which&nbsp; <b>A rem B</b> and <b>A mod B</b> differ in
Ada.&nbsp;</font></font></li>

<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>Ada's mod
and rem:&nbsp;</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1><a href="http://archive.adaic.com/standards/83rat/html/ratl-05-02.html">http://archive.adaic.com/standards/83rat/html/ratl-05-02.html</a></font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1><a href="http://archive.adaic.com/standards/83rat/html/ratl-05-02.html">http://lglwww.epfl.ch/docs/ada/rm95html-1.0/rm9x-04-05-05.html</a></font></font></b>
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>What semantics
did the designers of Java pick for the % operator? How does the Java's
semantics for <b>%</b> compare with the semantics for Ada's <b><i>mod&nbsp;</i>
/&nbsp;<i> rem</i></b>?&nbsp; Do you think they made the right choice?&nbsp;</font></font></li>

<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>Java's %
operator is closer to a remainder operator</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>Source:
<a href="http://mindprod.com/jglossmodulus.html">Java
Glossary: modulus</a></font></font></b>
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>What semantics
did the designers of <b>C </b>pick for the % operator? How does the C's
semantics for <b>%</b> compare with the semantics for Ada's <b><i>mod&nbsp;</i>
/&nbsp;<i> rem</i></b> and Java's %?&nbsp; Do you think they made the right
choice?</font></font></li>

<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>"It is always
true that (a/b)*b + a%b is equal to a if b is not 0, so the behavior of
the remainder operation is coupled to that of integer division. When both
operands are positive, the remainder operation will always be equivalent
to the mathematical "mod" operation. Note that this completely specifies
the behavior of the remainder operation for unsigned operands. If either
oeprand is negative, the behavior will be machine-dependent in a manner
corresponding to the machine dependence of integer division. For maximum
portability, programs should therefore avoid depending on the behavior
of the remainder operator when applied to negative integral operands."</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>Source:
"C: A Reference Manual"</font></font></b></ol>

<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>In Ansi C the keyword
static has two different semantics depending on where it is used. (See
Code below).&nbsp; What does static mean in both settings?</font></font></li>

<br><b><i><font face="Arial, Helvetica, sans-serif"><font size=-1>(10 pts)</font></font></i></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>Answer 5:Declare
a static variable inside a function is like a local variable in which only
the function can access it. However, unlike local variable, the static
varialbe is not destroyed on exit from the function, instead its value
is preserved and becomes available again when the function is next called.</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>Declare
a static variable in function level or global variable environment specify
that the function name or static global variable&nbsp; is not to be exported
to the linker. (K&amp;R)</font></font></b>
<br>&nbsp;
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>Following the definition
of&nbsp; binding a name with its value , specify the time and stability
of the binding between C const variable and its value.</font></font></li>

<br><b><i><font face="Arial, Helvetica, sans-serif"><font size=-1>(10 pts)</font></font></i></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>Answer 6:
A C const variable can not be treated as a compile-time constant.&nbsp;
The indent is to designate objects whose value is unchanging.&nbsp; However,
"the language rules are not foolproof-- that is they may be bypassed or
overridden if the programmer tries hard enough." see page 82 Harbinson
and Steele.</font></font></b>
<br>&nbsp;
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>Following the definition
of&nbsp; binding a name with its value, specify the time and stability
of the binding between C++ const variable and its value.&nbsp; What is
the difference between the meaning of const in C and C++?&nbsp; Can you
come up with an example where this difference causes code to compile in
C++ and not in C? <b><i>(10 pts)</i></b></font></font></li>

<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>Answer 7:</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>In C++,
value is bound as earliest as possible.</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>const int
x =10;&nbsp;&nbsp; // value is bound at compile time.</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>value can
also be bound at run-time,</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>void fun(int
y) {</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;
const int z =y;</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>}</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>we don't
know the value of y until fun has been executed at run-time.</font></font></b>
<p><b><font face="Arial, Helvetica, sans-serif"><font size=-1>C, on the
other hand, the value is bound at run-time. In C, if you need a true compile-time
constant, use a preprocessor #define. In both languages, once values are
bound, values cannot be changed.</font></font></b>
<br>&nbsp;
<table BORDER COLS=2 WIDTH="100%" >
<caption>&nbsp;</caption>

<tr>
<td><b>C</b></td>

<td><b>C++</b></td>
</tr>

<tr>
<td>const always create storage</td>

<td>const doesn't necessarily create storage</td>
</tr>

<tr>
<td>uses external linkage for const</td>

<td>defaults to internal linkage for const</td>
</tr>

<tr>
<td>const doesn't always need an initialization value</td>

<td>const must always have an initialization value</td>
</tr>
</table>

<p><b><font face="Arial, Helvetica, sans-serif"><font size=-1>Also, in
C++, you can cast away const. Therefore, user is able to modify the object.
C, on the other hand, has no such reserve word.</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>--- Sample
C++ Code</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>int i =
10;</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>&nbsp;const
int *pi = &amp;i;</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>&nbsp;*pi
= 15;</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>// Not allowed!
pi is a const pointer!</font></font></b>
<p><b><font face="Arial, Helvetica, sans-serif"><font size=-1>// Cast away
the constness of the pi pointer and&nbsp; modify i</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>*((int*)
pi) = 15;</font></font></b>
<br>&nbsp;
<p><b><font face="Arial, Helvetica, sans-serif"><font size=-1>--- Another
example code shows the difference in C and C++</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>const int
ArraySize = 100;</font></font></b>
<br><b><font face="Arial, Helvetica, sans-serif"><font size=-1>int Array[ArraySize];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
// this is allow in C++, but not in C</font></font></b>
<p><font face="Arial, Helvetica, sans-serif"><font size=-1><b><font color="#333333">source:</font></b><font color="#3333FF"><a href="http://www.acm.org/crossroads/xrds1-1/ovp.html">http://www.acm.org/crossroads/xrds1-1/ovp.html</a></font></font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1><a href="http://www.eskimo.com/%7Escs/C-faq/q11.8.html">http://www.eskimo.com/~scs/C-faq/q11.8.html</a></font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1><a href="http://www.eskimo.com/%7Escs/C-faq/q11.8.html">http://irl.eecs.umich.edu/jamin/pointers/C++NotInC.html</a></font></font>
<br>&nbsp;
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1><b><i>(10 pts)
</i></b>Given
the following declaration in Ada:&nbsp;</font></font></li>

<p><br><font face="Arial, Helvetica, sans-serif"><font size=-1>TYPE Array_type
IS ARRAY(3..7) OF Integer;&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>TYPE CODE is
record&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Level :&nbsp; CHARACTER;&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Status: CHARACTER;&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Salary : Integer;&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>end record;&nbsp;</font></font>
<p><font face="Arial, Helvetica, sans-serif"><font size=-1>TYPE Code_Array
IS ARRAY(10..15) OF CODE;&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>arr : Array_type&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>codeArr : Code_Array&nbsp;</font></font>
<p><font face="Arial, Helvetica, sans-serif"><font size=-1>If INTEGER requires
4 bytes of storage and CHARACTER requires 2 byte of storage what is the
effective address (using bytes as the addressable units) of variables below
(show your calculations) You should assume that the ba (base address) for
arr is 1500 and the base address for codeArr is 3000.&nbsp; You may assume
the memory is byte addressable and you may use decimal arithematic.</font></font>
<br>&nbsp;
<p><b><font face="Arial, Helvetica, sans-serif"><font size=-1>Formula :&nbsp;&nbsp;&nbsp;
base address + offset</font></font></b>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>A. Effective
address for arr(5)&nbsp; is&nbsp;&nbsp;<u>&nbsp; <b>1500 + 4*2 = 1508&nbsp;</b></u></font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>B. Effective
address for codeArr(11) is&nbsp; <b><u>3000 + 2+ 2+ 4 = 3008</u></b></font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>C. What is
the offset of <b><i>Status</i></b> in the record <b><i>Code</i></b> ?&nbsp;<b><u>&nbsp;&nbsp;&nbsp;
2&nbsp;</u></b></font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>D. Effective
address for codeArr(11).Status is&nbsp;<b><u>&nbsp; 3008 + 2 = 3010</u></b></font></font>
<br>&nbsp;
<br>&nbsp;
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1><b><i>(10 pts)</i></b>
Given the following declaration in Ada:&nbsp;</font></font></li>

<br><font face="Arial, Helvetica, sans-serif"><font size=-1>TYPE Array_type
IS ARRAY(10..14, 1..4) OF Integer;&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>TYPE CODE is
record&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Status : CHARACTER;&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Salary : Integer;&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>end record;&nbsp;</font></font>
<p><font face="Arial, Helvetica, sans-serif"><font size=-1>TYPE Code_Array
IS ARRAY(1..5, 10..15) OF CODE;&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>arr : Array_type;&nbsp;</font></font>
<br><font face="Arial, Helvetica, sans-serif"><font size=-1>codeArr : Code_Array;</font></font></ol>

<blockquote><font face="Arial, Helvetica, sans-serif"><font size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
If INTEGER requires 4 bytes of storage and CHARACTER requires 2 byte of
storage what is the effective address (using bytes as the addressable units)
of <font color="#000000">variables below</font> (show your calculations)
You should assume that the ba (base address) for arr is 4001 and the base
address for codeArr is 5001. You may assume the memory is byte addressable
and you may use decimal arithematic.</font></font></blockquote>

<ol type="A">
<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>Using row major
the effective address for arr(10,3)&nbsp; is&nbsp;<b>&nbsp; <u>4001 + 2*4
= 4009&nbsp;</u>&nbsp;</b><u>&nbsp;</u></font></font></li>

<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>Using column major
the effective address for arr(10,3)&nbsp; is&nbsp;<b><u>&nbsp; 4001 + 4*10
= 4041</u></b></font></font></li>

<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>Using row major
the effective address for codeArr(2,11) is&nbsp;&nbsp;<b><u>&nbsp; 5001
+ (2+4)*7 = 5043</u></b></font></font></li>

<li>
<font face="Arial, Helvetica, sans-serif"><font size=-1>Using row major
the effective address for codeArr(2.11).Salary is&nbsp;&nbsp;<b><u>&nbsp;
5001 + (2+4)*7 + 2 = 5045</u></b></font></font></li>
</ol>
</td>
</tr>

<tr>
<td ALIGN=RIGHT VALIGN=TOP WIDTH="29" HEIGHT="19" BGCOLOR="#FFFFFF">&nbsp;</td>

<td ALIGN=LEFT WIDTH="858" HEIGHT="19" BGCOLOR="#FFFFFF">&nbsp;</td>
</tr>
</table>

</body>
</html>
