<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en-us"><head><title>Scott's Chap 6</title>

<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<meta name="author" content="E Head"></head>
<body><h3><span style="font-weight: bold;"></span>Due Fri., March 21 @ NOON </h3>
<ol>
<li> Page 155 ex. 3.13<br>
</li>
<li>Evaluate following program fragment in C:<br>
<div style="margin-left: 40px;"><span style="font-family: monospace; font-weight: bold;"></span><span style="font-family: monospace; font-weight: bold;"></span><span style="font-family: monospace; font-weight: bold;">&nbsp;<br>
int a =
0; &nbsp; &nbsp; &nbsp; </span><br>
<span style="font-family: monospace; font-weight: bold;">int
b = (a++) &gt; (a++ &amp;&amp; ++a);<br>
printf( "%d %d", a, b );<br>
&nbsp; </span> </div>
In the table below show each evaluation step&nbsp; and include the
value of a and b. &nbsp;Finally, display the output. Remember in
Java,
C and C++, <span style="font-weight: bold;">&amp;&amp;</span>
is a <a href="http://en.wikipedia.org/wiki/Lazy_evaluation#Minimal_evaluation">short
circuit</a> operator which is always evaluated left to right. <span style="color: rgb(204, 0, 0);">Assume all side effects occur
immediately.</span><br>
<br>
a. Assume that, wherever there is an option, operands are evaluated
left to right:<br>
<br>
<table style="text-align: left; width: 768px; height: 325px;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td><span style="font-family: monospace; font-weight: bold;">int
b = (a++) &gt; (a++ &amp;&amp; ++a);</span></td>
<td><span style="font-weight: bold;">a=0</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; b=?&nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;
&nbsp; &nbsp; </td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<br>
<br>
b. Assume that, wherever there is an option, operands are evaluated
right to left:<br>
<br>
<table style="text-align: left; width: 768px; height: 325px;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td><span style="font-family: monospace; font-weight: bold;">int
b = (a++) &gt; (a++ &amp;&amp; ++a);</span></td>
<td><span style="font-weight: bold;">a=0</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; b=?&nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;
&nbsp; &nbsp; </td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<br>
</li>
<li>In Ruby everything is an object including numbers and
nil. &nbsp;Ruby does not use "for" loops much but instead uses
iterators and code blocks. &nbsp;Below is a script to print out the
sum
of the first 10 numbers:</li>
<dl>
<dd><span style="font-family: monospace;">sum = 0<br>
1.upto(10){|n| sum = sum +n}<br>
puts sum<br>
</span></dd>
<dt>Below is a script build a list of numbers from 0 to 10
and print out the list:</dt>
<dd><span style="font-family: monospace;">lst =
[ ]<br>
0.upto(10){|n| lst[n]=n}<br>
print lst<br>
print "\n"<br>
prt lst&nbsp;<br>
</span></dd>
<dt>Write a script using a number object 1 to build a list
where each element is the sum of 1 to 5. &nbsp;The output should be</dt>
<dt><span style="font-family: monospace;">&nbsp;
&nbsp; &nbsp; sum</span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;
&nbsp; &nbsp; 0</span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;
&nbsp; &nbsp; 1</span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;
&nbsp; &nbsp; 3</span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;
&nbsp; &nbsp; 6</span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;
&nbsp; &nbsp;10</span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;
&nbsp; &nbsp;15&nbsp;</span><br>
&nbsp;<br>
Tip: If you see the following error:<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;TypeError: nil can't be coerced into Fixnum</dt>
<dt>Your variable has not been initialized.<br></dt>

<li>page 298 exercise 6.1<br>
<br>
</li>
<li>page 298 exercise 6.4<br>
&nbsp; &nbsp;<br>
</li>
<li>page 299 exercise 6.10<br>
&nbsp;</li>
<li>Is &amp;(&amp;z) ever legal in C? Explain.<br>
<br>
</li>
<li>Variation of &nbsp;exercises 6.13 and 6.14.
&nbsp;Add two iterator <span style="text-decoration: underline;">methods</span>
to the Tree class in&nbsp;<a href="hw7/TreeModule.py">TreeModule.py</a>.
<span style="font-weight: bold;"><span style="font-style: italic;">preorder</span>()</span>
is an iterator that traverses the tree object in <span style="font-style: italic;">preorder</span> and <span style="font-weight: bold; font-style: italic;">postorder</span>()
is an iterator that traverses the tree object in <span style="font-style: italic;">postorder.</span>&nbsp;<br></li><li>Repeat problem 8 using Ruby. Add two iterator <span style="text-decoration: underline;">methods</span>
to the Tree class in <a href="hw7/treeModule.rb">treeModule.rb</a>.
<span style="font-weight: bold;"><span style="font-style: italic;">preorder</span>()</span>
is an iterator that traverses the tree object in <span style="font-style: italic;">preorder</span> and <span style="font-weight: bold; font-style: italic;">postorder</span>()
is an iterator that traverses the tree object in <span style="font-style: italic;">postorder.</span>&nbsp;<br>
<br>
</li>
<li>C++ and Java loops are often written with empty bodies
by placing
all side effects into the tests, such as in the following two examples:</li>
<dl>
<dd><span style="font-family: monospace;"><br>
i = 0;<br>
while (a[i++] !=0);<br>
<br>
for (i = 0; a[i] != 0; i++);<br>
&nbsp; <br>
</span></dd>
<dt>Are these loops equivalent? Explain.<br>
&nbsp; <br>
</dt>
</dl>
<li>Compile and run in gcc&nbsp; the following C code
on
two
different systems:<br>
</li>
<dl>
<dd><span style="font-family: monospace;">
int
loop() {</span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;
int
x[512]; </span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;
int i=0; </span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;
while
(i++ &lt;512) { </span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; x[i] = 0; </span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;
} </span><br style="font-family: monospace;">
<span style="font-family: monospace;">} </span><br style="font-family: monospace;">
<span style="font-family: monospace;">int main
() { </span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;
printf("\nCalling loop --&gt;&gt;\n"); </span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;
loop(); </span><br style="font-family: monospace;">
<span style="font-family: monospace;">}</span></dd>
<dd></dd>
Below are the commands to compile and
run the above code on Intel
and Sun systems:
<div style="margin-left: 40px;">Below are the
commands to
compile and
run the above code on Linux
and Sun systems: <br>
(PC) </div>
<ol style="margin-left: 40px;">
<b><tt>gcc -ansi <a href="http://bingweb.binghamton.edu/%7Ehead/CS471/HW/hw7.c">hw7.c</a>
-o hw7.exe</tt></b><br>
<b><tt>hw7.exe</tt></b>
<p><b><font color="#3333ff">if
hw7.exe
does NOT work then type:</font></b> <br>
<b><tt><font color="#3333ff">./hw7.exe</font></tt></b>
<br>
&nbsp;</p>
</ol>
<div style="margin-left: 40px;">(Bingsuns ) </div>
<ol style="margin-left: 40px;">
<b><tt>gcc -ansi <a href="http://bingweb.binghamton.edu/%7Ehead/CS471/HW/hw7F03.c">hw7.c</a>
-o hw7</tt></b><br>
<b><tt>hw7</tt></b>
</ol>
<div style="margin-left: 40px;">Using the -S
option look
at the
assembly code.&nbsp; Do not use a debugger. </div>
<ol style="margin-left: 40px;">
<ol type="A">
<li>What happens when you run this code?</li>
<li>Depending on the target machine and the compiler,
this
code
will execute
differently.&nbsp; Sometimes this code goes into an infinite loop,
sometimes
this code terminates, sometimes this code cause a segmentation
error.&nbsp;
Can you explain why this code does not behavior consistently?&nbsp;
Think
in terms of the AR and the runtime stack.</li>
</ol>
</ol>
<br>
<dd>
<dl>
<dt></dt>
</dl>
<span style="font-family: monospace;"></span><span style="font-family: monospace;"></span></dd>
</dl><dd><br>
&nbsp; </dd>
<li>Java provides the ability to define inner classes (<a href="http://java.sun.com/docs/books/tutorial/java/javaOO/nested.html">Java
Tutoral: Nested Classes</a>). The tutorial (<a href="http://java.sun.com/docs/books/tutorial/java/javaOO/innerclasses.html">Java
Tutoral: Inner Class Example</a> old example) provides the following example:</li>
</dl></ol>
<br>
<div style="margin-left: 40px; font-family: monospace;"><span style="font-family: monospace; font-weight: bold;">public
class StackOfInts {
</span><br style="font-family: monospace; font-weight: bold;">
<pre><span style="font-family: monospace; font-weight: bold;"> private int[] stack;</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> private int next = 0; // index of last item in stack + 1</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> </span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> public StackOfInts(int size) {</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> //create an array large enough to hold the stack</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> stack = new int[size];</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> }</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> </span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> public void push(int on) {</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> if (next &lt; stack.length)</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> stack[next++] = on;</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> }</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> public boolean isEmpty() {</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> return (next == 0);</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> }</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> </span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> public int pop(){</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> if (!isEmpty()) </span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> return stack[--next]; // top item on stack</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> else</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> return 0;</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> }</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> </span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> public int getStackSize() {</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> return next;</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> }</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> </span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> private class StepThrough { //Inner class </span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> // start stepping through at i=0</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> private int i = 0; </span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> </span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> // increment index</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> public void increment() {</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> if ( i &lt; stack.length)</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> i++;</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> }</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> </span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> // retrieve current element</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> public int current() {</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> return stack[i]; //****</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> }</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> </span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> // last element on stack?</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> public boolean isLast(){</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> if (i == getStackSize() - 1)</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> return true;</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> else</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> return false;</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> }</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> } // End of inner class StepThrough</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> </span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> public StepThrough stepThrough() {</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> return new StepThrough();</span><br style="font-family: monospace; font-weight: bold;"><span style="font-family: monospace; font-weight: bold;"> }</span><br> ...<br>}// end of StackOfInts </pre>
</div>
<div style="margin-left: 40px;"><br>
<ol style="list-style-type: upper-alpha;">
<li>What is the scope of the variable "<span style="font-style: italic;">stack</span>"
(//****) used in <span style="font-style: italic;">StepThrough</span>?</li>
<li>Consider the following main function:</li>
</ol>
<dl>
<dd>
<pre>public static void main(String[] args) {<br> <br> // instantiate outer class as "stackOne"<br> StackOfInts stackOne = new StackOfInts(15);<br> <br> // populate stackOne<br> for (int j = 0 ; j &lt; 15 ; j++) {<br> stackOne.push(2*j);<br> }<br> <br> // instantiate inner class as "iterator"<br> StepThrough iterator = stackOne.stepThrough();<br> StepThrough iterator2 = stackOne.stepThrough(); <br> // ### HERE &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;<br> while(!iterator.isLast()) {<br> System.out.print(iterator.current() + " ");<br> iterator.increment();<br> }<br> System.out.println();<br> <br>}<br> <br></pre>
At the point //##HERE
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
in the execution:</dd>
<dd>
<ol>
<li>how many instances of the object <span style="font-style: italic;">stack </span>exist?</li>
<li>how many instances of <span style="font-style: italic;">StepThrough&nbsp;</span>exist
and where in memory (static, heap or stack?)?</li>
<li>how many copies of the private instance
variable&nbsp; "i" defined in <span style="font-style: italic;">StepThrough
</span>exist and where in memory (static, heap or
stack?)<span style="font-style: italic;">&nbsp;</span></li>
</ol>
</dd>
</dl>
</div>
<dl>
<dd>
<ol start="3" style="list-style-type: upper-alpha;">
<li>Using the analogy of nested functions -- describe
what
happens at runtime to support the ability of an inner object to access
the outer object's instance variables. &nbsp;i.e. How does <span style="font-style: italic;">StepThrough </span>"know"&nbsp;
the location of <span style="font-style: italic;">stack?</span></li>
</ol>
</dd>
</dl>
<dl>
</dl>


</body></html>