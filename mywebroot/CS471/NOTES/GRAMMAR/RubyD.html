<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html style="direction: ltr;" xmlns="http://www.w3.org/1999/xhtml" lang="en-us"><head>






<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type" /><title>Ruby Regular Expression</title></head><body style="direction: ltr;"><span style="font-weight: bold;">References:&nbsp;</span>
<br />
<ul>
<li>The Ruby Language by Flanagan &amp; Matsumoto&nbsp;</li>
<ul>
<li>section 9.2<br />
</li>
</ul>
<li>Programming Ruby: <span style="font-style: italic;">the
Pragmatic Programmers' Guide 1.8</span> by Dave Thomas</li>
<ul>
<li>pages 3-16, 19-21, 68-70</li>
</ul>
<li>OR -- Programming Ruby: <span style="font-style: italic;">the Pragmatic Programmers' Guide
1.9</span> by Dave Thomas</li>
<ul>
<li>pages 3-18 , 19-26, 99-112</li>
</ul>
<li>(or <a href="http://www.ruby-doc.org/docs/ProgrammingRuby/html/intro.html">http://www.ruby-doc.org/docs/ProgrammingRuby/html/intro.html</a>
, <a href="http://www.ruby-doc.org/docs/ProgrammingRuby/html/language.html">http://www.ruby-doc.org/docs/ProgrammingRuby/html/language.html</a>)</li>
<li>Scott (Helpful on principles)<br />
&nbsp; &nbsp; &nbsp; pages 674-76, 696-704,&nbsp;(Perl
RE are available in Ruby) 714-16.</li>
</ul>
<ul>
<li><a href="http://www.troubleshooters.com/codecorn/ruby/basictutorial.htm">Basic
Tutorial</a></li>
<li><a href="http://www.zenspider.com/Languages/Ruby/QuickRef.html">QuickRef.html</a></li>
<li><a href="http://en.wikibooks.org/wiki/Ruby_programming_language">http://en.wikibooks.org/wiki/Ruby_programming_language</a></li>
<ul>
<li><a href="http://en.wikibooks.org/wiki/Ruby_Programming/Reference/Objects/Regexp">Regular
expression</a></li>
</ul>
<li><a href="http://pine.fm/LearnToProgram/">Learn
to Program</a></li>
<ul>
<li><a href="http://pine.fm/LearnToProgram/?Chapter=00">Chapter
0</a>: Instructions for SciTE(cross-platform) editor and getting
started</li>
<li>In the "tool&nbsp;pull down menu" in SciTE you can
select the <span style="font-style: italic;">syntax
checker</span> </li>
</ul>
<li><a href="http://www.ruby-doc.org/docs/UsersGuide/rg/regexp.html">Regular
Expression
operation</a></li>
<li><span style="text-decoration: underline;"><a href="http://gnosis.cx/publish/programming/regular_expressions.html">Learning
to Use Regular Expressions</a></span></li>
<li><a href="http://www.fromjavatoruby.com/2008/10/require-vs-load.html">Required
vs load</a></li>
<li><a href="CODE/rubyD.rb">Code</a></li>
<li><a href="http://bingweb.binghamton.edu/%7Ehead/CS471/NOTES/GRAMMAR/RubyREDir.html">Ruby RE code ( directory)</a></li>
</ul>
<hr style="width: 100%; height: 2px;" /><span style="font-weight: bold;">Getting
started:<br />
New scripts:<br />
</span>
<div style="margin-left: 40px;">
<ol>
<li>Open SciTE program.</li>
<li>Pull down the File menu and click on "New".</li>
<li>In the "Edit Window", save the empty text in a file with an
extension .rb.&nbsp;&nbsp; This will format your script as you
type.</li>
<li>Using SciTE to check and execute scripts</li>
<ol>
<li>To check the syntax of your script, pull down the "Tool"
menu&nbsp; and click on "Check Syntax".&nbsp; This will open a
frame with messages as to the correctness of your syntax.</li>
<li>To execute your script, pull down the "Tool" menu and
click on "Go". &nbsp;Results will appear in the frame to the right.</li>
<li>If you want to "see output use "puts".</li>
</ol>
<li>Using&nbsp; irb (Interactive Ruby) program (see below)</li>
</ol>
</div>
<span style="font-weight: bold;">Existing scripts using
irb:<br />
</span>
<ol>
<ol>
<li>Open irb</li>
<li>&nbsp;Type <br />
&nbsp; &nbsp; &nbsp;load "<span style="font-style: italic;">filename</span>.rb"<br />
at prompt.</li>
<li>below will appear in the terminal.</li>
<dl>
<dd><span style="font-family: monospace;">=&gt;
true</span></dd>
</dl>
<li>You can test any defined method by typing the command.</li>
<dl>
<dd><span style="font-family: monospace;"><span style="font-family: monospace;">...&gt; fact(6)</span></span><br />
<span style="font-family: monospace;">==&gt;720</span><br style="font-family: monospace;" />
<span style="font-family: monospace;">...&gt;</span></dd>
</dl>
</ol>
</ol>
<ol>
<ol>
</ol>
</ol>
There a many other ways to edit and run Ruby.<br />
<hr style="width: 100%; height: 2px;" /><br />
<span style="font-weight: bold;">Some important language
features</span>:<br />
<ol>
<li><span class="ilnk">Everything is an object</span></li>
<ol>
<li>methods loaded into irb are "mixin" to the "main" object</li>
</ol>
<li>dynamically typed&nbsp;</li>
<ol style="list-style-type: lower-alpha;">
<li>-- no declaration of variables</li>
<li>-- type lives with objects, not names</li>
</ol>
<li>reference model like Java</li>
<li><span style="font-style: italic;">puts</span>
and <span style="font-style: italic;">print</span>
are used to output data. Unlike <b>puts</b>, the <b>print</b>
method does not include a newline character,</li>
<li>the keyword <span style="font-style: italic;">end
</span><span style="font-weight: bold;">must</span>
be used to terminate <span style="font-style: italic;">if,
while,def, begin&nbsp;</span></li>
<li>Blocks</li>
<ol style="list-style-type: lower-alpha;">
<li>Ruby has closure -- <span style="font-style: italic;">nameless blocks of code <br />
</span></li>
<li>can use the keywords <span style="font-style: italic;">do
... end</span> or { ... } (braces)</li>
<ul style="list-style-type: disc;">
<li>Brace form has higher precedence and will bind to the
last parameter if invocation made w/o parens.</li>
<li>do/end form has lower precedence and will bind to the
invocation even without parens.</li>
      <li><span style="font-family: monospace; font-weight: bold;">File.open @output_file, 'w' do |output|</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: monospace; font-weight: bold;"> output.puts "matching group two of #{@pattern.inspect}"</span><br />
        <span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # inspect inherited from Object </span><br style="font-family: monospace; font-weight: bold;" />
        <span style="font-family: monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....</span><br style="font-family: monospace; font-weight: bold;" />
        <span style="font-family: monospace; font-weight: bold;">end</span><br />
      </li>

</ul>
<li><span style="font-style: italic;">iterators</span>
invoke methods on objects, 7 is an object and times is a method that
returns 0 to 6.<br />
<span style="font-family: monospace;">a, b = 1, 1</span><br style="font-family: monospace;" />
<span style="font-family: monospace;">7.times { a, b
= b, a+b }</span><br />
# a becomes 21 &amp; b becomes 34</li>
</ol>
</ol>
Useful Ruby Classes and modules:<br />
<ol>
<li>Changing directories and showing path:</li>
<dl>
<dd style="font-family: monospace; font-weight: bold;"><br />
</dd>
<dd style="font-family: monospace; font-weight: bold;">#In
a script<br />
puts Dir.pwd # displays current path<br />
Dir.chdir('./HW') # change to the sub-directory <span style="font-style: italic;">HW</span><br />
<br />
#In addition in <span style="font-style: italic;">irb</span>
you can type</dd>
<dd style="font-family: monospace; font-weight: bold;">Dir.pwd<br />
</dd>
<dd><span style="font-family: monospace; font-weight: bold;"><br />
</span></dd>

</dl>
<li>PERL Style<br />
SOME Regular Expression Operators and implicit(predefined) variables:</li>
<dl>
<dt>Match operator<span style="font-weight: bold;">
=~</span> returns the index of the first match :: <span style="font-style: italic;">string </span>=~<span style="font-style: italic;"> re</span> OR <span style="font-style: italic;">re =~ str</span><br />
Negative match <span style="font-weight: bold;">!~</span><br />
      <br />
      <a href="http://en.wikibooks.org/wiki/Ruby_Programming/Syntax/Variables_and_Constants#Pre-defined_Variables">Predefined(implicit) variables</a> (almost exactly like Perl)<br style="font-weight: bold;" />
<span style="font-weight: bold;">$&amp;</span>
&nbsp; :: &nbsp;receives the part of the string that matches re<br />
<span style="font-weight: bold;">$`</span>
&nbsp; &nbsp;:: &nbsp;receives the part of the string
proceeds the match<br />
<span style="font-weight: bold;">$' &nbsp;
&nbsp;</span>:: &nbsp;receives the part of the string
after the match<br />
<span style="font-weight: bold;">$1</span>
&nbsp; &nbsp;:: receives the "first" group<br />
      <br />
(Using <a href="http://www.ruby-doc.org/core-1.9.3/Regexp.html#method-i-match">match</a> in the Regexp class is more OO)<br />
&nbsp;<br />
</dt>
</dl>
<li>Literal forms &nbsp;<br />
</li>
<ol>
<span style="font-family: monospace; font-weight: bold;">re
=&nbsp; /^\s*[ae]/</span>
&nbsp;# blank spaces followed by a or e
<span style="font-family: monospace;"><br />
<span style="font-weight: bold;">re
= %r{^\s*[ae]}</span></span> # same regular expressions but
uses
%r{}&nbsp;
<span style="font-family: monospace;"><br />
<span style="font-weight: bold;">re =
Regexp.new(/^\s*[ae]/) </span></span>&nbsp;# calling
the
constructor<br />
<br />
</ol>
<li>Use "()" to group terms in a RE <br />
-- after executing <br />
</li>
<ol><span style="font-family: monospace; font-weight: bold;">
re = /^.*<font style="font-weight: bold;" color="#3333ff">(</font><span style="color: rgb(0, 102, 0); font-weight: bold;">(</span><span style="color: rgb(0, 153, 0);">[01][1-9]</span><span style="color: rgb(0, 102, 0); font-weight: bold;">)</span>.<span style="color: rgb(0, 102, 0); font-weight: bold;">(</span><span style="color: rgb(0, 153, 0);">[0-3][0-9]</span><span style="color: rgb(0, 102, 0); font-weight: bold;">)</span><font style="font-weight: bold;" color="#3333ff">)</font>.<span style="color: rgb(51, 51, 255);">([12][0-9][0-9][0-9])</span>/
</span><br />
<span style="font-family: monospace; font-weight: bold;">'this
is the date 12-02-2009' =~ re&nbsp;
</span><br />
<br />
</ol>The implicit variables refer to the following values<br />
<ol>
<br /><span style="color: rgb(51, 51, 255); font-weight: bold;">&nbsp;$1 ==&gt; "12-02" <span style="color: rgb(0, 153, 0);">&nbsp;$2 ==&gt; "12" &nbsp;$3 ==&gt; "02" &nbsp;<span style="color: rgb(51, 51, 255);">$4 ==&gt; "2009"</span></span></span><br />
<br />
</ol>
<li>The symbol # has <span style="font-style: italic;">more</span>
than one meaning in Ruby.<br />
&nbsp; <br />
</li>
<ol style="list-style-type: lower-alpha;">
<li>Denotes a comment in the grammar</li>
<li>Denotes interpolate a variable value or other expression
in a string delimited by ".."<br />
<br />
</li>
</ol>
<li>Strings denoted with " ... " allow interpolation and
strings denoted with ' ... ' do not.&nbsp;<br />
<br />
e.g. if $2 evaluates to 0b10 then<br /><br />
</li>
<dl>
<dd style="font-weight: bold;"><span style="font-family: monospace;">Integer(
"#{$2}")</span> &nbsp;==&gt; 2</dd>
<dt>but</dt>
<dd><span style="font-family: monospace; font-weight: bold;">Integer(
'#{$2}')</span><span style="font-weight: bold;"> ==&gt; an error</span><br />
&nbsp; <br />
</dd>
</dl>
<li>Example method (pg 104, Programming Ruby 1.9-- pg 69
Programming Ruby 1.8)<br />
</li>
<dl style="font-weight: bold; font-family: monospace;">
<dt><br />
def show_regEx (str, re)</dt>
<dd>if str =~ re<br />
&nbsp; &nbsp; &nbsp;result =
"#{$`}&lt;&lt;#{$&amp;}&gt;&gt;#{$'}"<br />
&nbsp; &nbsp; &nbsp;puts result<br />
else<br />
&nbsp; &nbsp; &nbsp;"NO MATCH"<br />
end</dd>
<dt>end<br />
      <br />
</dt></dl>
  <li>"Smalltalk Style" using objects instead of operator (<a href="http://bingweb.binghamton.edu/%7Ehead/CS471/NOTES/GRAMMAR/CODE/RE/RubyRE.rb">Full example</a>)<br />
&nbsp;<span style="font-family: monospace;">if match = @pattern.match(line) ...</span><br style="font-family: monospace;" />
    <span style="font-family: monospace;">&nbsp;&nbsp;&nbsp; output.puts "match[0]::: #{match[0]}"</span><br />
</li></ol><br />
<br />
<ol>

  <dl style="font-weight: bold; font-family: monospace;">

  </dl>

</ol>
<br />

<br />
</body></html>