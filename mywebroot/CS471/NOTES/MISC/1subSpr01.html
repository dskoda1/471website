<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Head/ Lander">
   <meta name="GENERATOR" content="Mozilla/4.73 [en] (Win98; U) [Netscape]">
   <meta name="Description" content="CS471 spr 00">
   <title>Substitutability</title>
</head>
<body text="#000000" bgcolor="#F5F5F5" link="#00FF00" vlink="#666666" alink="#FF0000">
&nbsp;
<center><table BORDER CELLSPACING=0 CELLPADDING=0 BGCOLOR="#FFFFF0" >
<tr>
<td><a href="http://bingweb.binghamton.edu/~head/CS471/NOTES/22Spr00.html">&nbsp;previous</a></td>

<td><a href="http://bingweb.binghamton.edu/~head/CS471/NOTES/22Spr00.html">&nbsp;next&nbsp;</a></td>
</tr>
</table></center>

<center>
<h3>
Arrays and Substitutability</h3></center>

<center>
<h3>
&copy; Eileen Head, Leslie C. Lander, 2000</h3></center>
Purpose:&nbsp; Substitutability is one of the four features of OO languages.&nbsp;
Type-checking rules in strongly typed OO languages to allow substitutability
are counterintuitive.&nbsp; Substitutability can lead to problems trying
to incorporate generics into an OO language. The runtime scheme for implementing
the substitutability, dynamic dispatching (dynamic method binding), is
illustrated for Java.
<h3>

<hr ALIGN=LEFT NOSHADE WIDTH="100%">Arrays</h3>

<ul>
<li>
Arrays are an ordered collection of elements.</li>

<li>
The index starts with 0.</li>

<li>
throws IndexOutOfBoundsException</li>

<li>
Instance variables&nbsp; and static variables are automatically initialized.</li>

<li>
Locals (automatic) variables are not.</li>

<ul>
<hr ALIGN=LEFT SIZE=3 WIDTH="50%"></ul>

<table BORDER=0 WIDTH="90%" >
<caption><b><font size=+1>Array of Primitive type</font></b></caption>

<tr>
<td><b><tt>void methodX ( ) {&nbsp;</tt></b>
<ul><b><tt>int [ ] a;&nbsp;</tt></b>
<br><b><tt>int [ ] b = { 1, 2, 3 };&nbsp;</tt></b>
<br><b><tt>int [ ] c = new int [ 3 ];</tt></b>
<br><b><tt>…</tt></b></ul>
<b><tt>}</tt></b></td>

<td><a href="http://bingweb.binghamton.edu/~head/CS471/NOTES/MISC/primArr.gif"><img SRC="primArr.gif" ALT="Array of Primitive types" BORDER=0 height=225 width=149></a></td>
</tr>
</table>

<table BORDER=0 WIDTH="90%" >
<caption><b><font size=+1>Array of Reference type</font></b></caption>

<tr>
<td><b><tt>void methodObj ( ) {&nbsp;</tt></b>
<blockquote><b><tt>Obj [ ] a;&nbsp;</tt></b>
<br><b><tt>Obj [ ] b = new Obj [ 3 ];&nbsp;</tt></b>
<br><b><tt>Obj [ ] c = new Obj [ 2 ];&nbsp;</tt></b>
<br><b><tt>c [ 0 ] = new Obj( );&nbsp;</tt></b>
<br><b><tt>c [ 1 ] = new Obj( );</tt></b>
<br><b><tt>…</tt></b></blockquote>
<b><tt>}</tt></b></td>

<td><a href="http://bingweb.binghamton.edu/~head/CS471/NOTES/MISC/objArr.gif"><img SRC="objArr.gif" ALT="Array of Objects" BORDER=0 height=225 width=152></a></td>
</tr>
</table>

<table BORDER=0 COLS=2 WIDTH="100%" >
<caption><font size=+1>Cloning an Array of Primitive types</font></caption>

<tr>
<td>// clone is inherited from Object.
<br><b><tt>void methodX ( ) {&nbsp;</tt></b>
<blockquote><b><tt>int [] b;</tt></b>
<br><b><tt>int [] a;</tt></b>
<br><b><tt>...</tt></b>
<br><b><tt>a = (int [ ]) b.clone();</tt></b>
<br><b><tt>...</tt></b></blockquote>
<b><tt>}</tt></b></td>

<td><a href="http://bingweb.binghamton.edu/~head/CS471/NOTES/MISC/prmClone.gif"><img SRC="prmClone.gif" ALT="Cloning an Array of Primitive types." BORDER=0 height=125 width=175></a></td>
</tr>
</table>

<table BORDER=0 COLS=2 WIDTH="100%" >
<caption><b><font size=+1>Cloning an Array of Reference types</font></b></caption>

<tr>
<td><b><tt>void methodX ( ) {&nbsp;</tt></b>
<blockquote><b><tt>Obj [ ] a;</tt></b>
<br><b><tt>Obj [] b;</tt></b>
<br><tt>.<b>..</b></tt>
<br><b><tt>a = (Obj [ ]) b.clone();</tt></b>
<br><b><tt>...</tt></b></blockquote>
<b><tt>}</tt></b></td>

<td><a href="http://bingweb.binghamton.edu/~head/CS471/NOTES/MISC/objClone.gif"><img SRC="objClone.gif" ALT="Cloning Array of Objects" BORDER=0 height=130 width=145></a></td>
</tr>
</table>
</ul>

<center>
<hr SIZE=3 WIDTH="50%"></center>

<center>
<h3>
Arrays and Substitutability</h3></center>

<blockquote>
<li>
Array type can be view as a parameterized type.</li>
</blockquote>

<ul>
<blockquote>
<li>
This is the only parameterized type in Java</li>

<li>
&nbsp;<a href="http://bingweb.binghamton.edu/~head/CS471/NOTES/MISC/POINTClass.html">Java
code for Point and ColorPoint Class</a></li>
</blockquote>
</ul>

<ul>&nbsp;
<br><b><tt>Class Test {</tt></b>
<br><b><tt>&nbsp;&nbsp;&nbsp; static ColorPoint[] cpa = new ColorPoint
[10];</tt></b>
<br><b><tt>&nbsp;&nbsp;&nbsp; static Point [] pa = new Point[10];</tt></b>
<ul><b><tt>public static void createArr( ) {</tt></b>
<ul><b><tt>addCP( cpa);</tt></b>
<br><b><tt>addPt (cpa);&nbsp; // Legal Call</tt></b>
<br><b><tt>&nbsp;//&nbsp; Will not compile --&nbsp;&nbsp;&nbsp; addCP (pa);</tt></b></ul>
<b><tt>}</tt></b>
<br><b><tt>public static void addCP(ColorPoint arr ) {</tt></b>
<ul><b><tt>arr[0] = new ColorPoint();</tt></b></ul>
<b><tt>}</tt></b>
<p><b><tt>public static void addPoint(Point arr ) {</tt></b>
<ul><b><tt>try {</tt></b>
<br><b><tt>&nbsp;&nbsp; arr[0] = new Point();</tt></b>
<br><b><tt>} catch (ArrayStoreException e) {</tt></b>
<br><b><tt>&nbsp;&nbsp;&nbsp; System.out.println(e)</tt></b>
<br><b><tt>}</tt></b></ul>
<b><tt>}</tt></b></ul>
</ul>
<b><tt><font size=-1>Reference: <i>The Java Language Specification </i>2<i>nd
Edition, </i>by Gosling, Joy, Steele, and Bracha page 216</font></tt></b>
<br>
<hr WIDTH="100%">
<center><table BORDER CELLSPACING=0 CELLPADDING=0 BGCOLOR="#FFFFF0" >
<tr>
<td><a href="http://bingweb.binghamton.edu/~head/CS471/NOTES/22Spr00.html">&nbsp;previous</a></td>

<td><a href="http://bingweb.binghamton.edu/~head/CS471/NOTES/22Spr00.html">&nbsp;next&nbsp;</a></td>
</tr>
</table></center>

<br>&nbsp;
<br>&nbsp;
</body>
</html>
