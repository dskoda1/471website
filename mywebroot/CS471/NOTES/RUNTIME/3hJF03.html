<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
  <title>Java - Dynamic Dispatching</title></head>

<body>
<h3></h3>
<center>
<table bgcolor="#fffff0" border="1" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td><a href="http://bingweb.binghamton.edu/%7Ehead/CS471/NOTES/HASKELL/2hSpr01.html">&nbsp;previous</a></td>
      <td><a href="http://bingweb.binghamton.edu/%7Ehead/CS471/NOTES/HASKELL/4hF02.html">&nbsp;next&nbsp;</a></td>
    </tr>
  </tbody>
</table>
</center>
<center>
<h3> Java -- Dynamic Dispatch
<br>
</h3>
<h4>© Eileen Head, Leslie C. Lander, 2002</h4>
</center>
<center>
</center>
Purpose:&nbsp; To see experience dynamic dispatching via an example
&nbsp;<br>
Goal: &nbsp;To understand how to use sub-typing polymorphisms in an
object oriented language.

<h3>Dynamic (runtime) dispatching -- Important feature of any object
oriented language</h3>
<table border="0" cellspacing="3" width="95%">
  <caption><b>Which code is used?</b></caption> <tbody>
    <tr>
      <td align="left" valign="top"><b><tt>class Animal {</tt></b> <br>
      <b><tt>&nbsp;&nbsp;&nbsp; void move(Animal x ) {</tt></b> <br>
      <b><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; . . .</tt></b> <br>
      <b><tt>&nbsp;&nbsp;&nbsp; }</tt></b> <br>
      <b><tt>}</tt></b></td>
      <td><b><tt>class Bird extends Animal {</tt></b>
      <blockquote><b><tt>Animal ted ;</tt></b>
        <blockquote><b><tt>. . .</tt></b></blockquote>
        <b><tt>void fly( ){</tt></b>
        <blockquote><b><tt>ted = new Animal( );</tt></b> <br>
          <b><tt>ted.move(ted);</tt></b> <br>
          <b><tt>ted = new Bird( );</tt></b> <br>
          <b><tt>ted.move(ted);</tt></b></blockquote>
        <b><tt>}</tt></b></blockquote>
      <b><tt>}</tt></b></td>
    </tr>
  </tbody>
</table>
<ul>
  <li> The same code is used because&nbsp; Bird&nbsp; objects inherits
"move".</li>
</ul>
<table border="0" cellspacing="3" width="95%">
  <caption><b>Dynamic Dispatching:&nbsp;</b> <br>
  <b>What is the Static Type and Dynamic Type?</b> <br>
  <b>Which code is used, <font color="#660000">code1 </font><font color="#000000">or </font><font color="#006600">code2?</font></b></caption>
  <tbody>
    <tr>
      <td align="left" valign="top"><b><tt>class Animal {&nbsp;</tt></b>
      <br>
      <b><tt>&nbsp;void <font color="#990000">move</font>(Animal x){</tt></b>
      <br>
      <b><i><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#990000">code 1</font></tt></i></b> <br>
      <b><tt>&nbsp;}</tt></b> <br>
      <b><tt>}</tt></b></td>
      <td><b><tt>class Bird extends Animal {</tt></b>
      <blockquote><b><tt>Animal ted;&nbsp;&nbsp;&nbsp; // static type ??</tt></b>
        <blockquote><b><tt>. . .</tt></b></blockquote>
        <b><tt>void <font color="#009900">move</font>(Animal x ) { <font color="#006600"><i>code </i>2</font> }</tt></b> <br>
        <b><tt>void fly( ){</tt></b>
        <blockquote><b><tt>ted = new Animal( ); // type ??</tt></b> <br>
          <b><tt><font color="#3333ff">this.move</font>(ted);&nbsp; //
uses code ?</tt></b> <br>
          <b><tt><font color="#3333ff">ted.move</font>(ted);&nbsp;&nbsp;
// uses code ?</tt></b> <br>
          <b><tt>ted = new Bird( ); // type ??</tt></b> <br>
          <b><tt><font color="#000099">this.move</font>(ted); // uses
code ?</tt></b> <br>
          <b><tt><font color="#3333ff">ted.move</font>(ted);&nbsp; //
uses code ?</tt></b></blockquote>
        <b><tt>}</tt></b></blockquote>
      <b><tt>}</tt></b></td>
    </tr>
  </tbody>
</table>
<blockquote> <li> Different code is executed!</li>
  <li> The determination of which code is used is made at run-time
depending on the dynamic type of the OBJECT.</li>
</blockquote>
<h3>WHAT happens?</h3>
<table border="0" width="95%">
  <caption><b><font size="+1">Doug's Dilemma</font></b></caption> <tbody>
    <tr>
      <td align="left" valign="top"><b><tt>class Animal {</tt></b> <br>
      <b><tt>&nbsp;&nbsp;&nbsp; ...&nbsp;</tt></b> <br>
      <b><tt>&nbsp;&nbsp;&nbsp; void <font color="#cc0000">move</font>(Animal
x ) {&nbsp;</tt></b> <br>
      <b><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CODE 1&nbsp;</tt></b>
      <br>
      <b><tt>&nbsp;&nbsp;&nbsp; }&nbsp;</tt></b> <br>
      <b><tt>&nbsp;&nbsp;&nbsp; ...&nbsp;</tt></b> <br>
      <b><tt>}</tt></b></td>
      <td><b><tt>class Mammal extends Animal {</tt></b>
      <blockquote><b><tt>Animal ted;</tt></b> <br>
        <b><tt>. . .</tt></b> <br>
        <b><tt>void <font color="#3333ff">move</font>(Mammal x )&nbsp;
{ <font color="#3333ff">CODE 2 </font>} // <font color="#8000ff">?</font>
function</tt></b> <br>
        <b><tt>void <font color="#cc0000">move</font>(Animal x )&nbsp;
{ <font color="#cc0000">Code 3</font><font color="#993300"> </font>}
// <font color="#8000ff">?</font> function</tt></b> <br>
        <b><tt>void fly( ){</tt></b>
        <blockquote><b><tt>ted = new Animal( );</tt></b> <br>
          <b><tt><font color="#cc33cc">this.move</font><font color="#000000">(</font>ted);&nbsp; // code <font color="#8000ff">?</font>
XQTd</tt></b> <br>
          <b><tt><font color="#cc33cc">ted.move</font>(ted);&nbsp;&nbsp;
// code <font color="#8000ff">?</font> XQTd</tt></b> <br>
          <b><tt>ted = new Mammal( );</tt></b> <br>
          <b><tt><font color="#cc33cc">this.move</font>(ted); // code <font color="#8000ff">?</font> XQTd</tt></b> <br>
          <b><tt><font color="#cc33cc">ted.move</font>(ted);&nbsp; //
code <font color="#8000ff">?</font> XQTd</tt></b> <br>
          <b><tt>Mammal fred = new Mammal();</tt></b> <br>
          <b><tt><font color="#cc33cc">fred.move</font>(fred);&nbsp; //
code <font color="#8000ff">?</font></tt></b> <br>
          <b><tt><font color="#cc33cc">this.move</font>(fred);&nbsp; //
code <font color="#8000ff">?</font></tt></b> <br>
          <b><tt><font color="#cc33cc">ted.move</font>(fred);&nbsp;&nbsp;
// code <font color="#8000ff">?</font></tt></b></blockquote>
        <b><tt>}</tt></b></blockquote>
      <b><tt>}</tt></b></td>
    </tr>
  </tbody>
</table>
<ul>
  <li> Care should be taken when overloading and overriding functions.</li>
  <li> <a href="3hAF02.html">Answer
key</a></li>
  
</ul>
</body></html>