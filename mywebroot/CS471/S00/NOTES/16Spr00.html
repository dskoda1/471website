<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Les Lander">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (WinNT; U) [Netscape]">
   <title>Haskell Polymorphism</title>
</head>
<body>
&nbsp;
<center><table BORDER CELLSPACING=0 CELLPADDING=0 BGCOLOR="#FFFFF0" >
<tr>
<td><a href="http://bingweb.binghamton.edu/~head/CS471/NOTES/15Spr00.html">&nbsp;previous</a></td>

<td><a href="http://bingweb.binghamton.edu/~head/CS471/NOTES/17Spr00.html">&nbsp;next&nbsp;</a></td>
</tr>
</table></center>

<center>
<h3>
Haskell 4</h3></center>

<center>
<h4>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&copy; Eileen Head, Leslie C. Lander, 2000</h4></center>
Purpose: To get a handle on Polymorphism.
<h3>

<hr NOSHADE WIDTH="100%">Polymorphism</h3>

<ul>
<li>
&nbsp;When a language allows the same routine identifier to accept different
types for actual parameters.</li>

<li>
<a href="http://www.numeric-quest.com/haskell/hcompanion/htypes.html#Polymorphism by Cardelli and Wegner">Strackey,
Cardelli, Wegner</a> organized polymorphism into 4 groups.</li>

<center><img SRC="16poly.gif" height=218 width=430></center>
</ul>

<br>&nbsp;
<h3>
Polymorphism</h3>

<ul>
<li>
Notice that Haskell functions are usually applicable to many types (often
called “polymorphic”)</li>

<li>
THE SAME CODE works for all the types in some class</li>

<li>
length is completely polymorphic:</li>

<pre>length [] = 0
length (a:x) = 1 + length x</pre>

<li>
works for all list types</li>
</ul>

<h3>
More examples of polymorphic functions</h3>

<ul>
<pre>> (++) :: [t] -> [t] -> [t]</pre>

<pre>> rev :: [t] -> [t]
> rev [] = []
> rev (a:x) = rev x ++ [a]</pre>

<pre>> id :: t -> t
> id x = x</pre>

<pre>> zip :: [t] -> [u] -> [(t,u)]
> zip (a:x) (b:y)=(a,b):zip x y
> zip _ _ = []</pre>
</ul>

<h3>
Constrained polymorphism</h3>

<ul>
<li>
Sometimes there are constraints on the polymorphism:</li>

<pre>> member::Eq t => t->[t]->Bool</pre>

<li>
The code for “member” has to contain the expression “a == b” and so the
elements have to be of an equality type</li>

<li>
However, many types are instances of the class Eq</li>
</ul>

<h3>
User-defined types in Haskell</h3>

<ul>
<li>
Recursive Types</li>

<pre>data Tree a = Leaf a | Branch (Tree a) (Tree a)</pre>

<li>
Example recursive function on the recursive data type</li>

<pre>fringe :: Tree a -> [a]&nbsp;
fringe (Leaf x) = [x]&nbsp;
fringe (Branch left right) = fringe left ++ fringe right</pre>
</ul>

<center><img SRC="tree1.gif" height=158 width=249></center>

<ul>
<li>
Example</li>
</ul>

<ul>
<pre>...> fringe (Branch(Branch (Leaf 3)(Leaf 4))(Leaf 2))
[3,4,2]</pre>
</ul>

<h3>
Example from Haskell book</h3>

<ul>
<li>
We can also explore another tree structure:</li>

<pre>data Tree t = Nil | Node t (Tree t)(Tree t)</pre>

<li>
Example function:</li>

<pre>treeVal :: Tree t -> t&nbsp;
treeVal Nil = error "treeVal"&nbsp;
treeVal (Node v _ _ ) = v</pre>
</ul>

<h3>
Example</h3>

<ul>
<pre>Node 6
&nbsp;&nbsp;&nbsp; (Node 4
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (Node 1 Nil Nil)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (Node 5 Nil Nil))&nbsp;
&nbsp;&nbsp;&nbsp; (Node 8 Nil Nil)</pre>
</ul>

<center><img SRC="tree2.gif" height=163 width=250></center>

<h3>
Constructors</h3>

<ul>
<li>
Notice that the the names such as “Branch,” “Leaf,” “Node,” “Nil” are called
constructors and they play a part in the patterns used to define the functions:</li>

<pre>insert::Ord t => t -> Tree t -> Tree t
insert v Nil = (Node v Nil Nil)s
insert v (Node w t1 t2)
&nbsp;&nbsp;&nbsp; |v == w = Node v t1 t2
&nbsp;&nbsp;&nbsp; |v > w&nbsp; = Node w t1 (insert v t2)
&nbsp;&nbsp;&nbsp; |v &lt; w&nbsp; = Node w (insert v t1) t2</pre>

<pre></pre>
</ul>

<pre>
<hr SIZE=1 NOSHADE WIDTH="100%"></pre>

<center><table BORDER CELLSPACING=0 CELLPADDING=0 BGCOLOR="#FFFFF0" >
<tr>
<td><a href="http://bingweb.binghamton.edu/~head/CS471/NOTES/15Spr00.html">&nbsp;previous</a></td>

<td><a href="http://bingweb.binghamton.edu/~head/CS471/NOTES/13Spr00.html">&nbsp;next&nbsp;</a></td>
</tr>
</table></center>

</body>
</html>
